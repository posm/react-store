@import '../../../stylesheets/base';
@import '../../../stylesheets/input-base';
@import '../../../stylesheets/input-border';

$width-date-picker-container-min: 208px;
$width-spinner: 16px;
$width-date-input: 112px;

.date-picker-container {
    min-width: $width-date-picker-container-min;
}

.date-input {
    min-width: $width-date-input;

    .input {
        position: relative;

        .units {
            .day-unit,
            .month-unit {
                width: calc(2ch + var(--width-spinner));
                font-family: $font-family-monospace;
            }

            .year-unit {
                width: calc(4ch + var(--width-spinner));
                font-family: $font-family-monospace;
            }
        }

        .action-buttons {
            @include transition-medium;
            position: absolute;
            right: 0;
            bottom: -$font-size-small - $spacing-medium - $spacing-extra-small * 2;
            opacity: 0;
            z-index: 1111;
            border: $width-separator-thin solid $color-separator;
            border-radius: 0 0 $radius-border-small $radius-border-small;
            background-color: $color-foreground;
            padding: $spacing-extra-small;
        }

        &:hover {
            .action-buttons {
                opacity: 1;
            }
        }
    }

    &:not(.disabled) {
        .input {
            @extend %input-border;
        }

        &.focused {
            .input {
                border-bottom-color: $color-accent;
            }
        }

        &.invalid {
            .input {
                border-bottom-color: $color-warning;
            }
        }

        &.error {
            .input {
                border-bottom-color: $color-danger;
            }
        }
    }

    &.disabled,
    &.readOnly {
        .input {
            border-bottom-color: $color-separator;

            &:hover {
                .action-buttons {
                    opacity: 0;
                    pointer-events: none;
                }
            }
        }
        .label {
            color: $color-text-disabled;
        }
    }

    &.disabled {
        .input {
            .day-unit,
            .month-unit,
            .year-unit {
                color: $color-text-disabled;
            }
        }
    }
}
